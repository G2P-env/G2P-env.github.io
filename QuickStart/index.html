<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Qian Cheng" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>QuickStart - G2P</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "QuickStart";
        var mkdocs_page_input_path = "QuickStart.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/rust.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> G2P
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">QuickStart</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#installation-of-g2p-container">Installation of G2P container</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#1-installation-of-singularity-linux-assuming-ubuntu">1. Installation of Singularity (Linux, assuming ubuntu) </a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#2-pull-g2p-container">2. Pull G2P container</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#installation-of-g2p-r-package">Installation of G2P R package</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#usage-of-g2p-container">Usage of G2P container</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#1-use-g2p-for-interactive-window">1. Use G2P for interactive window</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#2-use-g2p-to-run-rscript">2. Use G2P to run Rscript</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#3-use-g2p-container-to-run-stand-alone-software">3 Use G2P Container to run stand-alone software</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#usage-of-g2p-pacakge">Usage of G2P pacakge</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Tutorial/">Tutorial</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../about/">About</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">G2P</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
      <li>QuickStart</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/G2P-env/G2P/edit/master/docs/QuickStart.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="quickstart"><center>Quickstart</center></h1>
<p><center>Installation and quickstart</center></p>
<hr />
<p>This section is mainly intended for the installation of G2P and the briefly introduction of several typical usage of G2P to help users get started quickly. Details and other functions of G2P, please see <a href="../Tutorial/">Tutorial</a></p>
<h2 id="installation">Installation</h2>
<hr />
<h2 id="installation-of-g2p-container">Installation of G2P container</h2>
<h3 id="1-installation-of-singularity-linux-assuming-ubuntu">1. Installation of Singularity (Linux, assuming ubuntu) <br/></h3>
<p>1.1 Install system dependencies <br/></p>
<pre><code class="language-bash">$ sudo apt-get update &amp;&amp; sudo apt-get install -y \
    build-essential \
    libssl-dev \
    uuid-dev \
    libgpgme11-dev \
    squashfs-tools \
    libseccomp-dev \
    wget \
    pkg-config \
    git \
    cryptsetup
</code></pre>
<p>1.2 Install GO</p>
<pre><code class="language-bash">$ export VERSION=1.16.4 OS=linux ARCH=amd64 &amp;&amp; \  # Replace the values as needed
  wget https://dl.google.com/go/go$VERSION.$OS-$ARCH.tar.gz &amp;&amp; \ # Downloads the required Go package
  sudo tar -C /usr/local -xzvf go$VERSION.$OS-$ARCH.tar.gz &amp;&amp; \ # Extracts the archive
  rm go$VERSION.$OS-$ARCH.tar.gz    # Deletes the ``tar`` file
</code></pre>
<p><img alt="#f03c15" src="https://placehold.co/15x15/f03c15/f03c15.png" /> <strong>Note</strong>: You can visit <a href="https://go.dev/dl/">Go Downloads page</a> for suitable installation steps of your operating system.</p>
<p>1.3 Install Singularity</p>
<p>You can download SingularityCE from one of the releases. Please visit <a href="https://github.com/sylabs/singularity/releases">GitHub release page</a> for the full list. Once you make the decision, you can run the following commands to proceed with the installation (here, we use the version 3.8.1 as example).</p>
<pre><code class="language-bash">$ export VERSION=3.8.1 &amp;&amp; # adjust this as necessary \
    wget https://github.com/sylabs/singularity/releases/download/v${VERSION}/singularity-ce-${VERSION}.tar.gz &amp;&amp; \
    tar -xzf singularity-ce-${VERSION}.tar.gz &amp;&amp; \
    cd singularity-ce-${VERSION}
</code></pre>
<p>1.4 Compile singularity</p>
<pre><code class="language-bash">$ ./mconfig &amp;&amp; \
    make -C builddir &amp;&amp; \
    sudo make -C builddir install
</code></pre>
<p><img alt="#f03c15" src="https://placehold.co/15x15/f03c15/f03c15.png" /> <strong>Note</strong>: If you get an error when compile, please try the following command or refer to <a href="https://sylabs.io/docs/">Singularity websit for documents</a>. </p>
<pre><code class="language-bash">## Motify the file mlocal/frags/go_common_opts.mk in singularity path，find the following line and change it
GOPROXY := https://goproxy.cn,direct
## At the same time， motify the global proxy
go env -w GOPROXY=https://goproxy.cn,direct
</code></pre>
<p>1.5 Install Singularity for other operating system
Singularity can be installed via Vagrant Boxes for Windows and Intel cores MacOS, the details please refer to <a href="https://docs.sylabs.io/guides/3.8/admin-guide/installation.html#installation-on-windows-or-mac">Singularity installation guide</a>.</p>
<h3 id="2-pull-g2p-container">2. Pull G2P container</h3>
<pre><code class="language-bash">singularity pull G2P.sif library://mym89757/repo/g2p:latest
</code></pre>
<hr />
<h2 id="installation-of-g2p-r-package">Installation of G2P R package</h2>
<p><img alt="#f03c15" src="https://placehold.co/15x15/f03c15/f03c15.png" /> <strong>Note</strong>: The following functions, including <em>GSFiltering</em>, <em>GSImputation</em>, <em>GSTransForm</em>, <em>GSRead</em> shown in figure <a href="https://github.com/G2P-env/G2P/blob/main/figures/Fig%201.png">"Overview of G2P" a</a> needs the opearation evironment and stand-alone software on the circle, namely, these function in G2P pcakage can't be performed normally unless the dependencis shown in figure <a href="https://github.com/G2P-env/G2P/blob/main/figures/Fig%201.png">"Overview of G2P" a </a>(upper semicircle) have been correctly installed and configuration. G2P package can be installed for MacOS, Linux and Windows and the functions shown in figure <a href="https://github.com/G2P-env/G2P/blob/main/figures/Fig%201.png">"Overview of G2P" b</a> can run normally. <br/>
1. Install G2P through Github</p>
<pre><code class="language-R">## install dependencies and G2P
install.packages(c(&quot;ggplot2&quot;,&quot;brnn&quot;,&quot;glmnet&quot;,&quot;spls&quot;,&quot;pls&quot;,&quot;e1071&quot;,&quot;BGLR&quot;,&quot;rrBLUP&quot;,&quot;randomForest&quot;,&quot;hglm&quot;,&quot;hglm.data&quot;,&quot;parallel&quot;,&quot;pROC&quot;,&quot;PRROC&quot;,&quot;STPGA&quot;,&quot;reshape&quot;,&quot;reshape2&quot;,&quot;grid&quot;,&quot;pbapply&quot;,&quot;pheatmap&quot;,&quot;data.table&quot;))

## install package qtlDesign
install.packages(path_of_qtlDesign, repos = NULL, type=&quot;source&quot;)
## e.g. &quot;/home/Download/qtlDesign_0.941.tar.gz&quot;

require(&quot;devtools&quot;)
install_github(&quot;G2P-env/G2P&quot;) 
</code></pre>
<p>qtlDesign <a href="https://github.com/G2P-env/G2P/raw/main/qtlDesign_0.941.tar.gz">download link</a></p>
<p>2.Download <a href="https://github.com/G2P-env/G2P/raw/main/G2P_1.0.tar.gz">.tar.gz package</a> and install <br/></p>
<pre><code class="language-R">## install dependencies and G2P
install.packages(c(&quot;ggplot2&quot;,&quot;brnn&quot;,&quot;glmnet&quot;,&quot;spls&quot;,&quot;pls&quot;,&quot;e1071&quot;,&quot;BGLR&quot;,&quot;rrBLUP&quot;,&quot;randomForest&quot;,&quot;hglm&quot;,&quot;hglm.data&quot;,&quot;parallel&quot;,&quot;pROC&quot;,&quot;PRROC&quot;,&quot;STPGA&quot;,&quot;reshape&quot;,&quot;reshape2&quot;,&quot;grid&quot;,&quot;pbapply&quot;,&quot;pheatmap&quot;,&quot;data.table&quot;))

## install package qtlDesign
install.packages(path_of_qtlDesign, repos = NULL, type=&quot;source&quot;)
## e.g. &quot;/home/Download/qtlDesign_0.941.tar.gz&quot;

install.packages(&quot;DownloadPath/G2P_1.0.tar.gz&quot;)
</code></pre>
<p>qtlDesign <a href="https://github.com/G2P-env/G2P/raw/main/qtlDesign_0.941.tar.gz">download link</a></p>
<hr />
<h2 id="usage-of-g2p-container">Usage of G2P container</h2>
<h3 id="1-use-g2p-for-interactive-window">1. Use G2P for interactive window</h3>
<pre><code class="language-bash">$singularity exec G2P.sif R
</code></pre>
<p><img alt="fig 2" src="../img/R_example.jpg" title="G2P Container run R" />  <center>G2P Container run R</center>
Then R can be used as usual.</p>
<pre><code class="language-R">## library G2P package
library(G2P)

## load example data ##
data(&quot;cubic&quot;)

## perform genotype to phenotype prediction with all integrated methods ## 
C2Pres &lt;- G2P(markers = Markers,data = pheData,trait = &quot;DTT&quot;,
               modelMethods = c(&quot;BayesA&quot;, &quot;BayesB&quot;, &quot;BayesC&quot;, &quot;BL&quot;, &quot;BRR&quot;, 
                                &quot;RKHS&quot;, &quot;RRBLUP&quot;,&quot;LASSO&quot;, &quot;SPLS&quot;, &quot;SVC&quot;, &quot;SVR&quot;, &quot;RFR&quot;, &quot;RFC&quot;,
                                &quot;RR&quot;, &quot;RKHS&quot;, &quot;BRNN&quot;),trainIdx = 1:200,predIdx = 201:400)
</code></pre>
<h3 id="2-use-g2p-to-run-rscript">2. Use G2P to run Rscript</h3>
<pre><code class="language-R">## perform genotype to phenotype prediction ## 
suppressPackageStartupMessages(library(G2P))
print(&quot;G2P has been loaded successfully&quot;)

## Load example data ##
data(&quot;cubic&quot;)

## Fit RRBLUP model ##
RRBLUP_model &lt;- GSReModel(markers = Markers[1:200,], pheVal = pheData$DTT[1:200], modelMethods = &quot;RRBLUP&quot;)

## Predict 201-400 subset of all example data with already RRBLUP model ##
res &lt;- predictGS(testMat = Markers[201:400,], trainModel = RRBLUP_model, modelMethods = &quot;RRBLUP&quot;)

print(&quot;Prediction is down&quot;)
res[1:10]
</code></pre>
<p>Saving above scripts or your own scripts to an R scripts file *.r (e.g. predGS_test.r), Then use G2P container to run it.</p>
<pre><code class="language-bash">$singularity exec G2P.sif Rscript predGS_test.r
</code></pre>
<p><img alt="fig 2" src="../img/Rscript_example.jpg" title="G2P Container run Rscript" />  <center>G2P Container run Rscript</center></p>
<h3 id="3-use-g2p-container-to-run-stand-alone-software">3 Use G2P Container to run stand-alone software</h3>
<ul>
<li>Plink</li>
</ul>
<pre><code class="language-bash">$singularity exec G2P.sif plink
</code></pre>
<p><img alt="fig 3" src="../img/plink.png" title="G2P Container run plink" />  <center>G2P Container run Plink</center></p>
<ul>
<li>Gemma</li>
</ul>
<pre><code class="language-bash">$singularity exec G2P.sif gemma
</code></pre>
<p><img alt="fig 4" src="../img/gemma.png" title="G2P Container run gemma" />  <center>G2P Container run Gemma</center></p>
<ul>
<li>GCTA</li>
</ul>
<pre><code class="language-bash">$singularity exec G2P.sif GCTA
</code></pre>
<p><img alt="fig 5" src="../img/GCTA.png" title="G2P Container run gcta" />  <center>G2P Container run GCTA</center></p>
<ul>
<li>TASSEL</li>
</ul>
<pre><code class="language-bash">$singularity exec G2P.sif Tassel
</code></pre>
<p><img alt="fig 6" src="../img/tassel.png" title="G2P Container run tassel" />  <center>G2P Container run TASSEL</center></p>
<ul>
<li>VCFtools</li>
</ul>
<pre><code class="language-bash">$singularity exec G2P.sif vcftools
</code></pre>
<p><img alt="fig 7" src="../img/vcftools.png" title="G2P Container run vcftools" />  <center>G2P Container run VCFtools</center></p>
<h2 id="usage-of-g2p-pacakge">Usage of G2P pacakge</h2>
<ul>
<li>
<p>With RStudio
<img alt="fig 8" src="../img/G2P_package.jpg" title="G2P Container run vcftools" />  <center>Interface of Rstudio</center></p>
</li>
<li>
<p>From the console</p>
</li>
</ul>
<pre><code class="language-R">library(G2P)

ls(&quot;package:G2P&quot;)
</code></pre>
<p><img alt="fig 9" src="../img/consle.jpg" title="G2P Container run vcftools" />  <center>Interface of Rstudio</center></p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href=".." class="btn btn-neutral float-left" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../Tutorial/" class="btn btn-neutral float-right" title="Tutorial">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/G2P-env/G2P/" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href=".." style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../Tutorial/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
